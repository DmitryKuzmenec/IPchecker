# IPchecker

###### Тестовое задание:
Необходимо написать сервер, который по IP подключившегося клиента возвращал название
страны клиента. Сервер получать данные должен с помощью одного из следующих сервисов:
http://freegeoip.net/, http://geoip.nekudo.com (список можно дополнять)
Данные по IP адресам должны кэшироваться в локальной БД, должен быть установлен порог
«валидности» IP адреса в кэше.
Необходимо учесть, что провайдеры имеют ограничение на количество запросов, и при выборе
внешнего провайдера нужно проверять сколько запросов к нему было в течении 1 минуты
и переключаться на другой
Настройки параметров кэша и список провайдеров необходимо хранить/задавать в
конфигурационном файле.



###### Go:
```
~/tgo/src/IPchecker$ go version
go version go1.9.2 linux/amd64

```

###### Config:
http://github.com/spf13/viper
```
{
  "addr": "localhost:8080",
  "cache_ttl": 100,
  "provider.Necudo": 1000,
  "provider.Freegeoip": 1000
}

"addr" - куда биндимся
"cache_ttl" - время жизни записей в кеше (сек)
"provider.Necudo", "provider.Freegeoip" - провайдеры и разрешенное количество запросов в минуту
```

###### Database (local cache):
http://github.com/tidwall/buntdb
